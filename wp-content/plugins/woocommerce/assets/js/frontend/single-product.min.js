jQuery((function($){if("undefined"==typeof wc_single_product_params)return!1;$("body").on("init",".wc-tabs-wrapper, .woocommerce-tabs",(function(){$(".wc-tab, .woocommerce-tabs .panel:not(.panel .panel)").hide();var hash=window.location.hash,url=window.location.href,$tabs=$(this).find(".wc-tabs, ul.tabs").first();hash.toLowerCase().indexOf("comment-")>=0||"#reviews"===hash||"#tab-reviews"===hash?$tabs.find("li.reviews_tab a").click():url.indexOf("comment-page-")>0||url.indexOf("cpage=")>0?$tabs.find("li.reviews_tab a").click():"#tab-additional_information"===hash?$tabs.find("li.additional_information_tab a").click():$tabs.find("li:first a").click()})).on("click",".wc-tabs li a, ul.tabs li a",(function(e){e.preventDefault();var $tab=$(this),$tabs_wrapper=$tab.closest(".wc-tabs-wrapper, .woocommerce-tabs"),$tabs;$tabs_wrapper.find(".wc-tabs, ul.tabs").find("li").removeClass("active"),$tabs_wrapper.find(".wc-tab, .panel:not(.panel .panel)").hide(),$tab.closest("li").addClass("active"),$tabs_wrapper.find($tab.attr("href")).show()})).on("click","a.woocommerce-review-link",(function(){return $(".reviews_tab a").click(),!0})).on("init","#rating",(function(){$("#rating").hide().before('<p class="stars">\t\t\t\t\t\t<span>\t\t\t\t\t\t\t<a class="star-1" href="#">1</a>\t\t\t\t\t\t\t<a class="star-2" href="#">2</a>\t\t\t\t\t\t\t<a class="star-3" href="#">3</a>\t\t\t\t\t\t\t<a class="star-4" href="#">4</a>\t\t\t\t\t\t\t<a class="star-5" href="#">5</a>\t\t\t\t\t\t</span>\t\t\t\t\t</p>')})).on("click","#respond p.stars a",(function(){var $star=$(this),$rating=$(this).closest("#respond").find("#rating"),$container=$(this).closest(".stars");return $rating.val($star.text()),$star.siblings("a").removeClass("active"),$star.addClass("active"),$container.addClass("selected"),!1})).on("click","#respond #submit",(function(){var $rating=$(this).closest("#respond").find("#rating"),rating=$rating.val();if($rating.length>0&&!rating&&"yes"===wc_single_product_params.review_rating_required)return window.alert(wc_single_product_params.i18n_required_rating_text),!1})),$(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init");var ProductGallery=function($target,args){this.$target=$target,this.$images=$(".woocommerce-product-gallery__image",$target),0!==this.$images.length?($target.data("product_gallery",this),this.flexslider_enabled=$.isFunction($.fn.flexslider)&&wc_single_product_params.flexslider_enabled,this.zoom_enabled=$.isFunction($.fn.zoom)&&wc_single_product_params.zoom_enabled,this.photoswipe_enabled="undefined"!=typeof PhotoSwipe&&wc_single_product_params.photoswipe_enabled,args&&(this.flexslider_enabled=!1!==args.flexslider_enabled&&this.flexslider_enabled,this.zoom_enabled=!1!==args.zoom_enabled&&this.zoom_enabled,this.photoswipe_enabled=!1!==args.photoswipe_enabled&&this.photoswipe_enabled),1===this.$images.length&&(this.flexslider_enabled=!1),this.initFlexslider=this.initFlexslider.bind(this),this.initZoom=this.initZoom.bind(this),this.initZoomForTarget=this.initZoomForTarget.bind(this),this.initPhotoswipe=this.initPhotoswipe.bind(this),this.onResetSlidePosition=this.onResetSlidePosition.bind(this),this.getGalleryItems=this.getGalleryItems.bind(this),this.openPhotoswipe=this.openPhotoswipe.bind(this),this.flexslider_enabled?(this.initFlexslider(args.flexslider),$target.on("woocommerce_gallery_reset_slide_position",this.onResetSlidePosition)):this.$target.css("opacity",1),this.zoom_enabled&&(this.initZoom(),$target.on("woocommerce_gallery_init_zoom",this.initZoom)),this.photoswipe_enabled&&this.initPhotoswipe()):this.$target.css("opacity",1)};ProductGallery.prototype.initFlexslider=function(args){var $target=this.$target,gallery=this,options=$.extend({selector:".woocommerce-product-gallery__wrapper > .woocommerce-product-gallery__image",start:function(){$target.css("opacity",1)},after:function(slider){gallery.initZoomForTarget(gallery.$images.eq(slider.currentSlide))}},args);$target.flexslider(options),$(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:eq(0) .wp-post-image").one("load",(function(){var $image=$(this);$image&&setTimeout((function(){var setHeight=$image.closest(".woocommerce-product-gallery__image").height(),$viewport=$image.closest(".flex-viewport");setHeight&&$viewport&&$viewport.height(setHeight)}),100)})).each((function(){this.complete&&$(this).trigger("load")}))},ProductGallery.prototype.initZoom=function(){this.initZoomForTarget(this.$images.first())},ProductGallery.prototype.initZoomForTarget=function(zoomTarget){if(!this.zoom_enabled)return!1;var galleryWidth=this.$target.width(),zoomEnabled=!1;if($(zoomTarget).each((function(index,target){var image;if($(target).find("img").data("large_image_width")>galleryWidth)return zoomEnabled=!0,!1})),zoomEnabled){var zoom_options=$.extend({touch:!1},wc_single_product_params.zoom_options);"ontouchstart"in document.documentElement&&(zoom_options.on="click"),zoomTarget.trigger("zoom.destroy"),zoomTarget.zoom(zoom_options),setTimeout((function(){zoomTarget.find(":hover").length&&zoomTarget.trigger("mouseover")}),100)}},ProductGallery.prototype.initPhotoswipe=function(){this.zoom_enabled&&this.$images.length>0?(this.$target.prepend('<a href="#" class="woocommerce-product-gallery__trigger"></a>'),this.$target.on("click",".woocommerce-product-gallery__trigger",this.openPhotoswipe),this.$target.on("click",".woocommerce-product-gallery__image a",(function(e){e.preventDefault()})),this.flexslider_enabled||this.$target.on("click",".woocommerce-product-gallery__image a",this.openPhotoswipe)):this.$target.on("click",".woocommerce-product-gallery__image a",this.openPhotoswipe)},ProductGallery.prototype.onResetSlidePosition=function(){this.$target.flexslider(0)},ProductGallery.prototype.getGalleryItems=function(){var $slides=this.$images,items=[];return $slides.length>0&&$slides.each((function(i,el){var img=$(el).find("img");if(img.length){var large_image_src,large_image_w,large_image_h,item={src:img.attr("data-large_image"),w:img.attr("data-large_image_width"),h:img.attr("data-large_image_height"),title:img.attr("data-caption")?img.attr("data-caption"):img.attr("title")};items.push(item)}})),items},ProductGallery.prototype.openPhotoswipe=function(e){e.preventDefault();var pswpElement=$(".pswp")[0],items=this.getGalleryItems(),eventTarget=$(e.target),clicked;clicked=eventTarget.is(".woocommerce-product-gallery__trigger")||eventTarget.is(".woocommerce-product-gallery__trigger img")?this.$target.find(".flex-active-slide"):eventTarget.closest(".woocommerce-product-gallery__image");var options=$.extend({index:$(clicked).index(),addCaptionHTMLFn:function(item,captionEl){return item.title?(captionEl.children[0].textContent=item.title,!0):(captionEl.children[0].textContent="",!1)}},wc_single_product_params.photoswipe_options),photoswipe;new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options).init()},$.fn.wc_product_gallery=function(args){return new ProductGallery(this,args||wc_single_product_params),this},$(".woocommerce-product-gallery").each((function(){$(this).trigger("wc-product-gallery-before-init",[this,wc_single_product_params]),$(this).wc_product_gallery(wc_single_product_params),$(this).trigger("wc-product-gallery-after-init",[this,wc_single_product_params])}))}));